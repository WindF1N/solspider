# Track Eboshers - Система отслеживания скоплений ебошеров

## Описание
Система для отслеживания активности ебошеров на платформе Padre.gg через WebSocket подключение.

## Возможности
- ✅ Автоматическое подключение к Padre WebSocket
- ✅ Аутентификация с JWT токеном
- ✅ Автоматическое обновление токена при истечении
- ✅ Интерактивный ввод нового токена при необходимости
- ✅ Подписка на tracked-trades/wallet-groups
- ✅ Обнаружение скоплений ебошеров (4+ кошельков в одном токене за 30 сек)
- ✅ Отправка уведомлений в Telegram
- ✅ Защита от бесконечных циклов переподключения

## Запуск
```bash
python track_eboshers.py
```

## Получение JWT токена

### Способ 1: Из браузера (рекомендуемый)
1. Откройте https://trade.padre.gg в браузере
2. Откройте Developer Tools (F12)
3. Перейдите во вкладку **Network**
4. Установите фильтр **WS** (WebSocket)
5. Обновите страницу
6. Найдите WebSocket соединение к `padre.gg`
7. Перейдите во вкладку **Messages**
8. Найдите первое сообщение (массив типа `[1, 'токен', 'timestamp']`)
9. Скопируйте токен из второго элемента массива

### Способ 2: Через переменную окружения
```bash
export PADRE_JWT_TOKEN="ваш_токен_здесь"
python track_eboshers.py
```

## Настройки

### Telegram Bot
Установите переменную окружения:
```bash
export TELEGRAM_TOKEN="ваш_бот_токен"
```

### Настройки подключения
- **TARGET_CHAT_ID**: ID чата для отправки уведомлений
- **TARGET_THREAD_ID**: ID темы в чате
- **Подключение**: Автоматический выбор из списка бэкендов

## Функциональность

### Автоматическое обновление токена
- При истечении JWT токена система автоматически пытается обновить его
- Если автоматическое обновление невозможно, система запрашивает новый токен у пользователя
- При вводе токена можно нажать Ctrl+C для отмены и продолжения с текущим токеном

### Обнаружение скоплений
- Система отслеживает входы в токены
- При обнаружении 4+ кошельков в одном токене за 30 секунд:
  - Логируется информация о скоплении
  - Отправляется уведомление в Telegram
  - Включает ссылки на axiom.trade и dexscreener

### Защита от сбоев
- Автоматическое переподключение при разрывах соединения
- Задержки при слишком частых переподключениях
- Graceful shutdown при остановке

## Логирование
- Подробные логи работы системы
- Статистика обработанных сообщений
- Информация об ошибках и переподключениях

## Остановка
- **Ctrl+C** - корректная остановка системы
- При остановке сохраняются все логи и статистика

## Структура файлов
- `track_eboshers.py` - основной скрипт
- `track_eboshers.log` - логи работы системы
- `eboshers_v5.txt` - список адресов ебошеров (опционально)

## Технические детали
- **WebSocket**: Реальное время, бинарные сообщения через MessagePack
- **Асинхронность**: asyncio для конкурентной работы
- **Обработка ошибок**: Полная защита от сбоев
- **Масштабируемость**: Поддержка множественных подписок</contents>
</xai:function_call">/home/creatxr/solspider/README_track_eboshers.md
